<div class="test contur" ng-controller="test_1_Ctrl">

   <section class="body-test-1 contur" style="overflow: visible;">

      <div class="square" ng-class="small ? 'small' : ''">
         <div id="sourceImg"  ng-show="sourceShow" ng-style="sourceShowBreak">
            <img src="img/200x200.jpg" />
         </div>
      </div>

   </section>

   <section class="side-bar contur" style="overflow: visible;" ng-show="!small && storage.sBarShow">

      <div class="btn-wrapper">
         <div class="cancel-sb-button" ng-click="storage.sBarShow=false"></div>
         <button ng-click="clearList()">Очистить список</button>
      </div>

      <div class="img-collect-panel" style="background-color: hsla(0,0%,{{sbLighter}}%,0.3)">

         <div class="tmb" ng-repeat="preview in storage.previewList" ng-hide="preview.hidden">
            <div class="pv-close-button" ng-click="delView($index)"></div>
            <img src="img/40x40.jpg" />
         </div>


         <!--sBarShowComplete-->
         <div ng-show="!small && storage.sBarShow" ng-controller="ddCtrl"
              style="padding: 0;
              margin: 0;
              z-index: 999;
              flex: 0 0 auto; min-width: 5px;min-height: 5px; border-radius: 5px;
               transform: matrix3d(
                  {{scale}},0,0,0,
                  0,{{scale}},0,0,
                  0,0,1,0,
                  {{offsetX + dX - poX}},{{offsetY + dY - poY}},0,1);
                     {{cloneStyles}}">
            <!--{{offsetX + dX - poX}},{{offsetY + dY - poY}},0,1);-->
            <div ng-if="dragOn" class="tmb pw-place">
               <img  src="img/200x200.jpg" />
            </div>
         </div>

      </div>
   </section>

   <div class="menu" ng-click="sideBarShow()" ng-class="(storage.sBarShow || small) ? '' : 'covered'"
         style="z-index: {{50-50*storage.sBarShow}}">
   </div>

</div>