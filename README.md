#Тестовое задание для проекта 33slona#  

Работающее приложение: http://metadriver.ru/test33s/

###Особенности:###

1. Оба задание объеденины в одном приложении

2. Состояние приложения сохраняется при перезагрузке страницы.  При двух открытых окнах браузера, изменения синхронизируются атоматически. 

3. Из стороннего софта использовано:
   - angular v1.3.0
   - angular-ui (ui-bootstrap-tpls-0.11.0.min.js) : https://github.com/angular-ui/bootstrap
   - ngStorage (ngStorage.min.js) : https://github.com/gsklee/ngStorage
   - jQuerry (jquery-2.1.1.min.js)

4. На кроссбраузерность не ориентировано (в техзадании кроссбраузерность не оговаривается), отлаживал только под хромиум-браузерами.
   В файрфоксе есть небольшие глюки, в сафари и IE не проверял.

###Комментарии к парсеру:###
// eaaa! уфф.... ну наконец-то я его уже добил... не прошло и полгода. на трибунах уже начали засыпать.... :)
Впрочем, я отвлёкся.  Итак к делу.  Имеются следующие особенности:
#####----#####
Если во введёном тексте удаётся распознать несколько дат - в качестве результата берётся самая поздняя.
Ещё тонкости вставки дат : перед новой задачкой (или при перезагрузке страницы) создаётся "дата/время по умолчанию" 
( = сейчас + 12 часов; откуда берётся?... - взято самое лучшее из того что нашлось на потолке :) ..не самый худший, кстати, вариант. Ну..на мой вкус.), 
т.е. если ввести текст без дат и не устанавливать дату "пикером" - в задание попадёт именно оно.  
Если дата введена снаружи - default сбрасывается к текущему времени. Это предотвращает множество коллизий и вообще говоря довольно логично.
Если введено несколько дат (неважно как. например одна дата-пикером, вторая-стопицотая вручную) - берётся максимальная из них.  
Пока логичнее и беспроблемнее ничего не придумал. 
######Парсер распознаёт :######
##### - относительные ссылки во времени "сегодня-завтра-послезавтра"    ( сделано )#####
##### - дни недели    ( сделано )####
    // если день совпадает с сегодняшним (напр. "в среду" и сегодня среда) -
    // интерпретирует как "среда через неделю",  остальные - ближайшие
##### - полные даты в числовом виде : xx.xx.xxxx и xx.xx.xx  ( сделано )#####
    // при этом в двузначном формате года, все годы интерпретируются как "20xx"
    // в отличии от JS-распознавалки, которая годы большие 49 интерпретирует как 19xx
##### - неполные даты типа xx.xx  ( сделано )#####
    // - интерпретируются относительно ближайшего будущего,
    // т.е. переносятся на следующий год, если в этом году просрочено
##### - пары "дата + месяц" если дата в числовом представлении ( готово! энд гейм )#####
##### - часы:минуты в числовом представлении (xx:xx) ( сделано )#####
#####----#####
Вообще, задним числом, видно как можно было бы парсер сделать гораздо проще (хотя и несколько тупее ;) ),
но это видно только сейчас, когда в задачке уже многое прояснилось-устаканилось и стали гораздо лучше
 видны степени свободы и ограничения в постановке. Ну да... ..особенно когда уже есть готовые блоки, которые можно легко припахать.
 А вот когда их ещё не было... "...и мысль металась по углам.. там/сям..." (с)... тады ой. Ну да ладно. Есть утешение - "зато этот парсер куда круче простенького".
Как-то так...  :)  
#####----#####
Надеюсь, на трибунах ждать завершения было не очень скучно, в конце концов можно и не скучать, а к примеру посочувствовать тупому... 
..ну или там поржать... ну на худой конец занятся более продуктивной деятельностью... типа написать свой парсер... ;)
Если всё же зевота была неуёмной, попробую слегка порадовать. "Пасхальными яйцами", разумеется.  Пасха же грядёт...??..  Ну так и вот!..  Итак :
###=== (; Бонусные фичи ;) ===###
Если во входном потоке обнаружено хотя бы одно из следующих трёх слов - парсинг прерывается и принудительно выставляются следующие дедлайны: 
##### "потом" #####
 => Текущее время + 1000 лет.. должно хватить. :)
##### "когда-нибудь" #####
 => Текущее время + 50 лет... ну мне так показалось нормальненько... на всякий случай.. ;)
##### "никогда\!" (именно так, эмоционально\!) #####
 => Текущее время + 3 года.  За три года многое может произойти.  Вдруг удастся предумать..? ..мало ли...   
#####----#####
Благодарю за терпение.
#####Всем хорошего настроения\!#####
#####До связи (надеюсь).#####
Владимир Гомонов, aka MetaDriver
